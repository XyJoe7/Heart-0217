/* ====== Page components (view/code) ====== */
.page-wrap{position:relative;z-index:5;padding:18px 0 26px}
.page-head{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin:14px 0 10px}
.breadcrumb{display:flex;gap:8px;align-items:center;flex-wrap:wrap;color:var(--muted);font-weight:900;font-size:13px}
.breadcrumb a{color:var(--primary2);text-decoration:none;font-weight:900}
.page-title{margin:10px 0 0;font-size:clamp(20px,2.6vw,34px);line-height:1.2}
.page-sub{margin:8px 0 0;color:var(--muted);line-height:1.7}
.info-chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
.info-chip{font-size:12px;color:#333;background:rgba(255,255,255,.75);border:1px solid rgba(0,0,0,.08);padding:6px 10px;border-radius:999px;font-weight:900}
.panel{background:rgba(255,255,255,.78);border:1px solid rgba(0,0,0,.06);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
.panel-h{padding:14px 14px 12px;border-bottom:1px solid rgba(0,0,0,.06);display:flex;align-items:center;justify-content:space-between;gap:10px}
.panel-h h3{margin:0;font-size:15px}
.panel-b{padding:14px}
.panel-actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:0 14px 14px}
.grid-2{display:grid;grid-template-columns:1.1fr .9fr;gap:14px}
@media (max-width: 920px){.grid-2{grid-template-columns:1fr}}
.progress{height:10px;border-radius:999px;background:rgba(0,0,0,.06);overflow:hidden}
.progress>div{height:100%;width:0%;background:linear-gradient(135deg,var(--primary),var(--accent));border-radius:999px;transition:width .25s ease}
.question{padding:12px;border-radius:14px;background:rgba(255,255,255,.9);border:1px solid rgba(0,0,0,.06)}
.q-top{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px}
.q-num{font-weight:900;color:var(--primary2)}
.q-text{margin:0;font-weight:900;line-height:1.55}
.options{display:flex;flex-direction:column;gap:10px;margin-top:12px}
.option{display:flex;gap:10px;align-items:flex-start;padding:10px 12px;border-radius:14px;background:rgba(255,255,255,.75);border:1px solid rgba(0,0,0,.08);cursor:pointer;transition:.16s ease}
.option:hover{transform:translateY(-1px);box-shadow:var(--shadow)}
.option input{margin-top:3px}
.option .ot{font-weight:900}
.option .od{color:var(--muted);font-size:12.5px;line-height:1.55;margin-top:2px}
.locked{position:relative}
.locked .lock-cta{display:flex;align-items:center;justify-content:center;padding:6px 0;position:relative;z-index:2}
.lock-cta .cta-card{width:min(520px,100%);background:rgba(255,255,255,.92);border:1px solid rgba(0,0,0,.10);border-radius:16px;box-shadow:0 18px 60px rgba(0,0,0,.18);padding:16px}
.cta-card h4{margin:0 0 8px;font-size:16px}
.cta-card p{margin:0 0 12px;color:var(--muted);line-height:1.7}
.cta-card .row{display:flex;gap:10px;flex-wrap:wrap}
.result-badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.result-badge{background:rgba(124,131,253,.12);border:1px solid rgba(124,131,253,.18);border-radius:999px;padding:6px 10px;font-weight:900;font-size:12px}
.result-title{margin:0;font-size:18px}
.result-text{margin:8px 0 0;color:var(--muted);line-height:1.75}
.history{display:flex;flex-direction:column;gap:10px}
.h-item{padding:10px 12px;border-radius:14px;border:1px solid rgba(0,0,0,.08);background:rgba(255,255,255,.75)}
.h-item .t{font-weight:900}
.h-item .m{color:var(--muted);font-size:12.5px;line-height:1.55;margin-top:2px}
.h-item .a{margin-top:8px;display:flex;gap:10px;flex-wrap:wrap}
.link{color:rgba(0,0,0,.78);text-decoration:none;font-weight:900;font-size:13px;padding:9px 12px;border-radius:999px;border:1px solid rgba(0,0,0,.08);background:rgba(255,255,255,.85);transition:.16s ease;white-space:nowrap}
.go{text-decoration:none;color:#fff;font-weight:900;font-size:13px;padding:10px 14px;border-radius:999px;background:linear-gradient(135deg,var(--primary),var(--primary2));box-shadow:0 10px 18px rgba(124,131,253,.22);transition:.16s ease;white-space:nowrap}

/* details / collapsible */
.details{border-radius:14px;border:1px solid rgba(0,0,0,.08);background:rgba(255,255,255,.75);overflow:hidden}
.details summary{cursor:pointer;padding:10px 12px;font-weight:900;list-style:none;display:flex;align-items:center;justify-content:space-between;gap:10px}
.details summary::-webkit-details-marker{display:none}
.details .details-b{padding:0 12px 12px;color:var(--muted);line-height:1.75;font-size:13px}
.details + .details{margin-top:10px}
.type-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
@media (max-width:560px){.type-grid{grid-template-columns:1fr}}
.type-card{padding:12px;border-radius:16px;border:1px solid rgba(0,0,0,.08);background:rgba(255,255,255,.86)}
.type-card .h{display:flex;align-items:center;justify-content:space-between;gap:10px}
.type-card .name{font-weight:900}
.type-card .tag{color:var(--muted);font-size:12.5px;line-height:1.55;margin-top:6px}
.meter{height:10px;border-radius:999px;background:rgba(0,0,0,.06);overflow:hidden}
.meter>div{height:100%;border-radius:999px;background:linear-gradient(135deg,var(--primary),var(--accent))}
.factor-list{display:flex;flex-direction:column;gap:10px;margin-top:12px}
.factor{padding:12px;border-radius:16px;border:1px solid rgba(0,0,0,.08);background:rgba(255,255,255,.86)}
.factor .row{display:flex;align-items:center;justify-content:space-between;gap:10px}
.factor .n{font-weight:900}
.factor .d{color:var(--muted);font-size:12.5px;line-height:1.55;margin-top:6px}


.bottom-banner{position:sticky;bottom:70px;z-index:7;margin:22px calc(50% - 50vw) 0;padding:12px 20px;border-radius:0;border-top:1px solid rgba(255,107,157,.25);background:linear-gradient(135deg,rgba(255,255,255,.96),rgba(255,240,248,.95));display:flex;align-items:center;justify-content:space-between;gap:12px;box-shadow:0 -8px 20px rgba(255,107,157,.10)}
.bottom-banner a{text-decoration:none;background:linear-gradient(135deg,var(--primary),var(--primary2));color:#fff;font-weight:900;padding:8px 12px;border-radius:999px;white-space:nowrap}
@media (max-width:560px){.bottom-banner{flex-direction:column;align-items:flex-start}}

.lock-cta .cta-card.warn{border:1px solid rgba(255,107,157,.35);background:linear-gradient(135deg,rgba(255,255,255,.98),rgba(255,240,248,.96))}
.lock-cta .cta-card.warn h4{font-size:18px;color:#b30062}
.lock-cta .cta-steps{margin-top:10px;display:flex;flex-direction:column;gap:8px}
.lock-cta .cta-steps div{font-size:13px;color:#4a4a4a;padding:8px 10px;border-radius:10px;background:rgba(255,255,255,.9);border:1px solid rgba(0,0,0,.06)}

.bb-close{position:absolute;right:8px;top:6px;border:1px solid rgba(0,0,0,.12);background:#fff;border-radius:999px;width:24px;height:24px;line-height:20px;cursor:pointer}

#authStatus{word-break:break-word;line-height:1.6}

#authStatus .kbd{display:inline-block;max-width:100%;overflow-wrap:anywhere;white-space:normal;vertical-align:middle}
.theme-dark .panel,.theme-mbti .panel,.theme-holland .panel,.theme-scl90 .panel{border-color:rgba(90,97,208,.20)}
.theme-dark .page-title{color:#5e3fb4}
.theme-holland .page-title{color:#2f6f8f}
.theme-olson .page-title{color:#c04b88}
.theme-scl90 .page-title{color:#6b43c7}

.theme-yanzhi .page-title{color:#a14b7b}
.theme-mbti16 .page-title{color:#4c63c7}
.theme-gad7 .panel,.theme-phq9 .panel{border-color:rgba(199,78,129,.22)}

/* ====== Hide footer on test/scale pages ====== */
.page-with-bottom-nav .site-footer-block{display:none}

/* ====== Bottom Navigation Bar ====== */
.bottom-nav{position:fixed;bottom:0;left:0;right:0;z-index:50;background:rgba(255,255,255,.92);backdrop-filter:saturate(160%) blur(10px);border-top:1px solid rgba(0,0,0,.06);display:flex;justify-content:space-around;align-items:center;padding:6px 0 env(safe-area-inset-bottom,6px);box-shadow:0 -4px 16px rgba(0,0,0,.04)}
.bottom-nav a{display:flex;flex-direction:column;align-items:center;gap:2px;text-decoration:none;color:var(--muted);font-size:11px;font-weight:700;padding:4px 16px;border-radius:8px;transition:.18s ease;cursor:pointer;-webkit-tap-highlight-color:transparent;user-select:none}
.bottom-nav a svg{width:22px;height:22px}
.bottom-nav a.active{color:var(--primary)}
.bottom-nav a.active svg{stroke:var(--primary)}
/* Bottom bar (70px) + Bottom banner (sticky ~60px) + safety margin = 140px total */
.page-with-bottom-nav{padding-bottom:140px}

/* ====== Progress Overview ====== */
.progress-item{
  padding:10px 8px;
  border-radius:10px;
  border:1px solid rgba(0,0,0,.08);
  background:rgba(255,255,255,.75);
  font-weight:900;
  font-size:13px;
  cursor:pointer;
  transition:.16s ease;
  color:var(--text);
}
.progress-item:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow);
}
.progress-item.answered{
  background:rgba(124,131,253,.12);
  border-color:rgba(124,131,253,.18);
  color:var(--primary);
}
.progress-item.unanswered{
  background:rgba(255,255,255,.5);
  border-color:rgba(0,0,0,.06);
  color:var(--muted);
}
